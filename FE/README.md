# 問1

顧客に，A～Zの英大文字26種類を用いた顧客コードを割り当てたい。現在の顧客総数は8,000人であって，新規顧客が毎年2割ずつ増えていくものとする。

3年後まで顧客全員にコードを割り当てられるようにするためには，顧客コードは少なくとも何桁必要か。

## 出典

平成29年度 春期 基本情報技術者試験 午前 問23

## 解答

まず 初年度の顧客が8000なので変数aに8000をバインドします。

```
sakura@cloud-shell% ocaml
        OCaml version 4.13.1

# let a = 8000.0 ;;
val a : float = 8000.
```

次に顧客総数を2割増した数を計算する関数を定義します。

```
# let inc x = x *. 1.2 ;;
val inc : float -> float = <fun>
```

パイプのように利用できる関数（演算子）を定義します。
すると3年後の総数は以下のように求まります。

```
# let (|>) x f = f x ;;
val ( |> ) : 'a -> ('a -> 'b) -> 'b = <fun>
# let sum = inc a |> inc |> inc ;;
val sum : float = 13824.
```

IDの振り方は、1桁あたりA-Zの26通りあるため、26の何乗（26を何回かけるか）が3年後の総数以上となるかを計算します。

```
# 26. ** 2. ;;
- : float = 676.
# 26. ** 3. ;;
- : float = 17576.
```

よって少なとも3桁あれば3年後まで顧客全員にコードを割り当て可能です。

# 問2

32ビットで表現できるビットパターンの個数は，24ビットで表現できる個数の何倍か。

## 出典

平成28年度 秋期 基本情報技術者試験 問4

## 解答

32ビットで表現できるパターンの個数は、2^32（2の32乗）です。

24ビットで表現できるパターンの個数は、2^24（2の24乗）です。

つまり、2^(32 - 24) = 2^8 = 256 です。

```
sakura@cloud-shell% ocaml
        OCaml version 4.13.1

# 2. ** (32. -. 24.) ;;
- : float = 256.
```

なお、2^(32 - 24) = 2^32 / 2^24 でもあるため、これを計算しても同じ答えが求まります。

```
# (2. ** 32.) /. (2. ** 24.) ;;
- : float = 256.
```

# 問3

数値を2進数で格納するレジスタがある。

このレジスタに正の整数xを設定した後，"レジスタの値を2ビット左にシフトして，xを加える"操作を行うと，レジスタの値はxの何倍になるか。

ここで，あふれ(オーバフロー)は，発生しないものとする。

## 出典

平成28年度 春期 基本情報技術者試験 問1

## 解答

2進数において、ビット列を左に1ビットシフトすることは2倍することを意味し、右に1ビットシフトすることは1/2することを意味します。

10進数の1を左にシフトすると10倍の10になり、10進数の100を右にシフトすると1/10の10になるのと同じですね。

さてレジスタの値は2進数で表現されており、これを左に2ビットシフトするというのは 2 * 2 = 4 倍するという意味になります。

ここで x = 1 で考えてみると左に2ビットシフトした後の値が4となっているため、4倍されていますね。

```
sakura@cloud-shell% ocaml
        OCaml version 4.13.1

# 1 lsl 1 ;;
- : int = 2

# (1 lsl 1) lsl 1 ;;
- : int = 4
```

さて、xを加えると 4x + x = 5x となり、5倍となることがわかります。

```
# (1 lsl 1) lsl 1 lor 1 ;;
- : int = 5
```

# 問4

表の条件で喫茶店を開業したい。月10万円の利益を出すためには，1客席当たり1日何人の客が必要か。

| 客1人当たりの売上高 | 500円 |
| 客1人当たりの変動費 | 100円 |
| 固定費              | 300,000 円/月 |
| 1ヶ月の営業日数     | 20日  |
| 客席数              | 10席  |

## 出典

令和2年度 免除 基本情報技術者試験 問77

## 解答

利益は`売上高 - 費用`で求めることができるため、1日当たりの顧客数をnとすると

(n * 500) - (300000 + (100 * n))

が、1ヶ月当たりの利益です。

これが10万円であれば良いため、

(n * 500) - (300000 + (100 * n)) = 100000

nに関して方程式を整理して、

400n = 400000

n = 1000

となります。

```
sakura@cloud-shell% ocaml
        OCaml version 4.13.1

# 400000 / 400 ;;
- : int = 1000
```

さて、1ヶ月当たりの営業日は20日であるためnを20で割ると1日当たりの顧客数が求まります。

1000 / 20 = 50

```
# 1000 / 20 ;;
- : int = 50
```

また、客席数は10であるため、これを10で割ると客席当たりの客数が求まります。

50 / 10 = 5

```
# 50 / 10 ;;
- : int = 5
```

よって1客席当たり1日5人の客が必要です。

# 問5

nの階乗を再帰的に計算する関数 F(n) の定義において，aに入れるべき式はどれか。

ここで，nは非負の整数である。

n＞0のとき， F(n)＝a

n＝0のとき， F(n)＝1

## 出典

平成28年度 春期 基本情報技術者試験 問7

## 解答

階乗とは、正の整数nに対してn!と表現され、

n! = n * (n - 1) * (n - 2) * ... * 1

で定義されます。

つまり、1からnまでの自然数をすべてかけ合わせた数です。

問題文の定義にあるn＞0をn＜＝0と読み替えると、同等の定義を以下のように書けます。

n＜＝0のとき， F(n)＝1

上記以外（つまりn＞0）のとき， F(n)＝a

n!の定義の (n - 1) * (n - 2) * ... * 1に注目すると、これは(n - 1)!です。

つまり、F(n - 1)です。

よって、a は n * F(n - 1)と表せます。

```
sakura@cloud-shell% ocaml
        OCaml version 4.13.1

# let rec factorial n =
    if n <= 0 then 1
    else n * (factorial (n - 1)) ;;
val factorial : int -> int = <fun>
```


